<div class="col-9 right-column d-flex flex-column align-items-start">
    <div *ngFor="let userCommunity of this.usersCommunity; index as i" class="community-posts-box rounded-3 mb-5 d-flex align-items-start">
        <div *ngIf="communityContainsPosts(userCommunity.subscribedCommunity)">
            <div class="d-flex flex-column mb-3">
                <div *ngIf="i!==5" class="w-100">
                    <div class="d-flex justify-content-between">
                        <h5 class="nav-item ps-3 my-auto">{{userCommunity.nickname}}</h5>
                        <li class="primary-title pe-3 py-2 shadow-sm">{{userCommunity.subscribedCommunity.name}}</li>
                    </div>
                    <div *ngFor="let post of this.posts">
                        <div class="shadow-sm" *ngIf="post.author.id===userCommunity.id">
                            <div class="card border-0 post-box shadow-lg">
                                <h5 class="card-header shadow-sm">{{ post.title }}</h5>
                                <div class="card-body d-flex flex-column flex-md-row justify-content-between">
                                    <div class="col-lg-7 col-md-6 col-12 text-start d-flex align-items-center">
                                        <div class="d-flex flex-column align-items- gap-4 me-5">
                                            <p class="mb-5 mb-sm-0 card-text align-self-start">{{ post.description }}</p>
                                            <div class="text-start">
                                                <div *ngIf="post.interactions?.length">
                                                    <h4 class="primary-title">{{post.interactions }}</h4>
                                                </div>
                                                <div *ngIf="!(post.interactions?.length)">
                                                    <ng-container>
                                                        <p class="card-text mt-4 pt-4 fw-lighter align-self-end">No interaction in this post</p>
                                                    </ng-container>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-5 col-md-6 col-12 d-flex align-items-center justify-content-center">
                                        <img class="rounded-3 post-image" [src]="post.urlImage" alt="post-photo">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div *ngIf="!this.usersCommunity.length" class="d-flex flex-column gap-3">
        <h3 class="primary-title">Welcome, join the most popular communities, interact with other passionate users like you, enjoy the journey!</h3>
        <button class="btn-discover" (click)="redirectToCommunities()">Let's start</button>
    </div>
    <div class="w-100 d-flex justify-content-center" *ngIf="this.usersCommunity.length && loggedUser">
        <button class="btn btn-primary" (click)="redirectToCommunities()">Show more</button>
    </div>
</div>
